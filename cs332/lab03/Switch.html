<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Fri Apr 04 12:19:08 EDT 2014 -->
<title>Switch</title>
<meta name="date" content="2014-04-04">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Switch";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="LightSystemThread.html" title="class in &lt;Unnamed&gt;"><span class="strong">Prev Class</span></a></li>
<li><a href="SwitchDisplay.html" title="class in &lt;Unnamed&gt;"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?Switch.html" target="_top">Frames</a></li>
<li><a href="Switch.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h2 title="Class Switch" class="title">Class Switch</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Switch</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="Layer2Listener.html" title="interface in &lt;Unnamed&gt;">Layer2Listener</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">Switch</span>
extends java.lang.Object
implements <a href="Layer2Listener.html" title="interface in &lt;Unnamed&gt;">Layer2Listener</a></pre>
<div class="block">Switch models a learning switch, with multiple ports, each connected to
 a bus, on which computers can connect.  This class keeps a table of MAC
 <--> port bindings, so it can learn where MAC addresses "live".  This
 class also contains a collection of SwitchPorts and a parallel
 collection of SwitchLightPanels, each of which monitors the "wire" that
 the port is connected to.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="Switch.html#Switch(int)">Switch</a></strong>(int&nbsp;numports)</code>
<div class="block">Create a Switch with the given number of ports.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Switch.html#addOrUpdateBySrcMac(int, SwitchPort)">addOrUpdateBySrcMac</a></strong>(int&nbsp;macAddr,
                   <a href="SwitchPort.html" title="class in &lt;Unnamed&gt;">SwitchPort</a>&nbsp;s)</code>
<div class="block">used when checking if a source mac is recorded in the macAddr table.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Switch.html#attachPort(SwitchPort, SwitchLightPanel)">attachPort</a></strong>(<a href="SwitchPort.html" title="class in &lt;Unnamed&gt;">SwitchPort</a>&nbsp;pt,
          <a href="SwitchLightPanel.html" title="class in &lt;Unnamed&gt;">SwitchLightPanel</a>&nbsp;panel)</code>
<div class="block">Add the given SwitchPort/SwitchLightPanel to our collection of
 ports/panels.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Switch.html#enQueueOnAllPortsExceptOne(SwitchPort, Layer2Frame)">enQueueOnAllPortsExceptOne</a></strong>(<a href="SwitchPort.html" title="class in &lt;Unnamed&gt;">SwitchPort</a>&nbsp;port2Skip,
                          <a href="Layer2Frame.html" title="class in &lt;Unnamed&gt;">Layer2Frame</a>&nbsp;fr)</code>
<div class="block">send the given frame on all registered ports, except port2Skip.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>Switch.MacTableEntry</code></td>
<td class="colLast"><code><strong><a href="Switch.html#findEntryByMac(int)">findEntryByMac</a></strong>(int&nbsp;macAddr)</code>
<div class="block">return the entry for the given mac, or null if no entry exists.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Switch.html#frameReceived(Layer2Handler, Layer2Frame)">frameReceived</a></strong>(<a href="Layer2Handler.html" title="class in &lt;Unnamed&gt;">Layer2Handler</a>&nbsp;handler,
             <a href="Layer2Frame.html" title="class in &lt;Unnamed&gt;">Layer2Frame</a>&nbsp;frame)</code>
<div class="block">Handle frames received on a switch port.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="Switch.html#getNumPorts()">getNumPorts</a></strong>()</code>
<div class="block">return numPorts value</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="SwitchLightPanel.html" title="class in &lt;Unnamed&gt;">SwitchLightPanel</a></code></td>
<td class="colLast"><code><strong><a href="Switch.html#getPanel(int)">getPanel</a></strong>(int&nbsp;i)</code>
<div class="block">return the ith switch port panel</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="Switch.html#macAddrTableString()">macAddrTableString</a></strong>()</code>
<div class="block">return the MacAddrTable as a long string, one entry per line.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Switch.html#setListener(SwitchListener)">setListener</a></strong>(<a href="SwitchListener.html" title="interface in &lt;Unnamed&gt;">SwitchListener</a>&nbsp;l)</code>
<div class="block">Store an object to receive a callback when a port is attached.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Switch(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Switch</h4>
<pre>public&nbsp;Switch(int&nbsp;numports)</pre>
<div class="block">Create a Switch with the given number of ports.  This method creates
 the internal arrays of SwitchPorts and SwitchLightPanels.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="attachPort(SwitchPort, SwitchLightPanel)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>attachPort</h4>
<pre>public&nbsp;void&nbsp;attachPort(<a href="SwitchPort.html" title="class in &lt;Unnamed&gt;">SwitchPort</a>&nbsp;pt,
              <a href="SwitchLightPanel.html" title="class in &lt;Unnamed&gt;">SwitchLightPanel</a>&nbsp;panel)</pre>
<div class="block">Add the given SwitchPort/SwitchLightPanel to our collection of
 ports/panels.  Register this object as a listener of the
 SwitchPort.  Call a registered SwitchListener object's
 portAttached() method.</div>
</li>
</ul>
<a name="findEntryByMac(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findEntryByMac</h4>
<pre>public&nbsp;Switch.MacTableEntry&nbsp;findEntryByMac(int&nbsp;macAddr)</pre>
<div class="block">return the entry for the given mac, or null if no entry exists.</div>
</li>
</ul>
<a name="addOrUpdateBySrcMac(int, SwitchPort)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addOrUpdateBySrcMac</h4>
<pre>public&nbsp;void&nbsp;addOrUpdateBySrcMac(int&nbsp;macAddr,
                       <a href="SwitchPort.html" title="class in &lt;Unnamed&gt;">SwitchPort</a>&nbsp;s)</pre>
<div class="block">used when checking if a source mac is recorded in the macAddr table.
 If it isn't there, add it.  If it is there, make sure the associated
 switch port is correct.</div>
</li>
</ul>
<a name="enQueueOnAllPortsExceptOne(SwitchPort, Layer2Frame)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enQueueOnAllPortsExceptOne</h4>
<pre>public&nbsp;void&nbsp;enQueueOnAllPortsExceptOne(<a href="SwitchPort.html" title="class in &lt;Unnamed&gt;">SwitchPort</a>&nbsp;port2Skip,
                              <a href="Layer2Frame.html" title="class in &lt;Unnamed&gt;">Layer2Frame</a>&nbsp;fr)</pre>
<div class="block">send the given frame on all registered ports, except port2Skip.</div>
</li>
</ul>
<a name="frameReceived(Layer2Handler, Layer2Frame)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>frameReceived</h4>
<pre>public&nbsp;void&nbsp;frameReceived(<a href="Layer2Handler.html" title="class in &lt;Unnamed&gt;">Layer2Handler</a>&nbsp;handler,
                 <a href="Layer2Frame.html" title="class in &lt;Unnamed&gt;">Layer2Frame</a>&nbsp;frame)</pre>
<div class="block">Handle frames received on a switch port.  This is the "main" function of the
 switch.  Algorithm:
  1. Look in the macAddrTable for the srcMac.
  1.1. If found, update the entry with the port the frame came in on.
  1.2. Else: add an entry.
  2. If the destMac is bcast, send to all ports except the incoming one.  Return.
  3. Look in the macAddrTable for the destMac.
  3.1. If found, send the frame on the associated port.
  3.2. Else, send the frame out on all ports, except the port the frame came in on.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="Layer2Listener.html#frameReceived(Layer2Handler, Layer2Frame)">frameReceived</a></code>&nbsp;in interface&nbsp;<code><a href="Layer2Listener.html" title="interface in &lt;Unnamed&gt;">Layer2Listener</a></code></dd>
</dl>
</li>
</ul>
<a name="getNumPorts()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumPorts</h4>
<pre>public&nbsp;int&nbsp;getNumPorts()</pre>
<div class="block">return numPorts value</div>
</li>
</ul>
<a name="getPanel(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPanel</h4>
<pre>public&nbsp;<a href="SwitchLightPanel.html" title="class in &lt;Unnamed&gt;">SwitchLightPanel</a>&nbsp;getPanel(int&nbsp;i)</pre>
<div class="block">return the ith switch port panel</div>
</li>
</ul>
<a name="setListener(SwitchListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setListener</h4>
<pre>public&nbsp;void&nbsp;setListener(<a href="SwitchListener.html" title="interface in &lt;Unnamed&gt;">SwitchListener</a>&nbsp;l)</pre>
<div class="block">Store an object to receive a callback when a port is attached.</div>
</li>
</ul>
<a name="macAddrTableString()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>macAddrTableString</h4>
<pre>public&nbsp;java.lang.String&nbsp;macAddrTableString()</pre>
<div class="block">return the MacAddrTable as a long string, one entry per line.
 Each line shows the MAC address and portnumber, in a nice format.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-all.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="LightSystemThread.html" title="class in &lt;Unnamed&gt;"><span class="strong">Prev Class</span></a></li>
<li><a href="SwitchDisplay.html" title="class in &lt;Unnamed&gt;"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?Switch.html" target="_top">Frames</a></li>
<li><a href="Switch.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
